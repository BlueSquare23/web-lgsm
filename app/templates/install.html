{% extends "base.html" %}
{% block title %}Web LGSM Install Server{% endblock %}

{% block content %}
      <script src="{{ url_for('static', filename='js/open-close-form.js') }}"></script>

      <br />

      <div class="container">
        {% include 'spinners.html' %}

        <div class="row">
          {% include 'xtermjs.html' %}

        </div>

        <br />
        <h2 style="color: white;">Install a New LGSM Server</h2>
        <hr />

        {% for script_name, full_name in servers.items() %}
        <div class="row">
          <div class="col">
            <form method="POST" class="form-group" id="sudo_pass_form" action="/install">
              <input type="hidden" id="server_name" name="server_name" value="{{script_name}}" class="form-control" />
              <input type="hidden" id="full_name" name="full_name" value="{{full_name}}" class="form-control" />

              <button type="submit" onclick="runPreInstall('{{full_name}}');" id="ai_button" class="btn btn-outline-primary" type="submit" value="" />Install {{script_name}}</button>
            </form>
          </div>
          <div class="col text-primary">
            {{full_name}}
          </div>
        </div>
        <br />
        {% endfor %}
      </div>
      <br />

      <script src="/static/js/pre-install.js"></script>
      <!-- Set global serverName for update-xterm.js -->
      <script>var serverName = "{{ install_name }}"; var textColor = "{{ text_color }}"</script>
      <script src="/static/js/update-xterm.js"></script>

      <button id="top-button" onclick="window.scrollTo(0,0);" type="button" style="text-decoration: underline;" class="btn btn-outline-primary d-sm-none d-md-block d-none d-sm-block">
        /\ Top /\
      </button>
{% endblock %}
