{% extends "base.html" %}
{% block title %}Web LGSM Server Controls{% endblock %}

{% block content %}

      <br />
      <div class="container">
        <div id="spinners" style="display: none;">
          {% for bs_color in bs_colors %}
            <div class="spinner-border text-{{bs_color}}" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          {% endfor %}
      
          <hr style="color: white;" />
        </div>
      
        <div class="row">
          <h2 style="color: white;">Output:</h2>
          <div id="textArea">
            <button id="auto-scroll-button" type="button" class="btn btn-outline-primary float-end" style="text-decoration: overline;">\/Toggle Auto-Scroll\/</button>
            <textarea class="bg-dark border border-secondary" id="outputTextArea" style="width: 100%; height: 100%; color:{{text_color}}; padding: 5px" rows="10" readonly>
            </textarea>
          </div>

          <hr />
        </div>
      
        <br />
        <h2 style="color: white;">Server Controls for: {{server_name|capitalize}}</h2>
        <hr />
      
        {% for command in server_commands %}
          <div class="row">
            <div class="col">
              <form method="GET" id="ctrls-form" action="/controls">
                <input type="hidden" id="server" name="server" value="{{server_name}}" class="form-control" />
                <input type="hidden" id="command" name="command" value="{{command.short_cmd}}" class="form-control" />
      
                <input onclick="window.scrollTo(0,0); document.getElementById('spinners').style.display = 'block';" class="btn btn-outline-primary" type="submit" value="{{command.long_cmd}}" />
              </form>
            </div>
            <div class="col text-primary">
              {{command.description}}
            </div>
          </div>
          <br />
        {% endfor %}
      </div>
      <br />

      <script src="/static/js/update-text-area.js"></script>
      <script src="/static/js/auto-scroll-button.js"></script>
      
      <button id="top-button" onclick="window.scrollTo(0,0);" type="button" class="btn btn-outline-primary d-sm-none d-md-block d-none d-sm-block">
        <a href="#top" style="color: white;">/\ Top /\</a>
      </button>
      
      <a id="del-button" title="Remove server entry from web-lgsm database" onclick="return confirm('Are you sure you want to delete {{server_name}}?');" class="btn btn-outline-danger" href="/delete?server={{server_name}}" role="button">
        Delete Server
      </a>
{% endblock %}
